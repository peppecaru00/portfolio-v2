import"../chunks/CWj6FrbW.js";import"../chunks/69_IOA4Y.js";import{h as N,f as de,e as _e,g as I,Q as pe,i as he,r as Z,j as U,k as V,u as D,aa as me,l as fe,o as oe,q as ge,ab as ve,O as Ee,m as xe,G as $,ac as Y,K as ee,ad as P,ae,af as Ae,ag as ye,ah as Ie,ai as Te,aj as Q,ak as be,al as we,a0 as Ce,a4 as ke,am as ue,an as Me,ao as Ne,p as Se,a as He,s as G,ap as z,a7 as M,a8 as b,a6 as F,a5 as Re,a9 as re}from"../chunks/coEJKg6J.js";import{s as K}from"../chunks/BBwfKioV.js";import{i as te}from"../chunks/Dolhp4yx.js";import{t as L,a as H,c as je}from"../chunks/DnobtymT.js";import{s as ie}from"../chunks/DBhMmY6M.js";import{i as De}from"../chunks/BIhhuGxr.js";import{o as Le}from"../chunks/_nV0ywYd.js";function se(s,e){return e}function Oe(s,e,a,f){for(var v=[],u=e.length,n=0;n<u;n++)Ae(e[n].e,v,!0);var d=u>0&&v.length===0&&a!==null;if(d){var x=a.parentNode;ye(x),x.append(a),f.clear(),w(s,e[0].prev,e[u-1].next)}Ie(v,()=>{for(var m=0;m<u;m++){var t=e[m];d||(f.delete(t.k),w(s,t.prev,t.next)),Te(t.e,!d)}})}function ne(s,e,a,f,v,u=null){var n=s,d={flags:e,items:new Map,first:null},x=(e&ue)!==0;if(x){var m=s;n=N?U(Ce(m)):m.appendChild(ke())}N&&de();var t=null,A=!1,l=pe(()=>{var c=a();return Ee(c)?c:c==null?[]:ve(c)});_e(()=>{var c=I(l),r=c.length;if(A&&r===0)return;A=r===0;let p=!1;if(N){var _=n.data===he;_!==(r===0)&&(n=Z(),U(n),V(!1),p=!0)}if(N){for(var g=null,E,h=0;h<r;h++){if(D.nodeType===8&&D.data===me){n=D,p=!0,V(!1);break}var i=c[h],o=f(i,h);E=ce(D,d,g,null,i,o,h,v,e,a),d.items.set(o,E),g=E}r>0&&U(Z())}N||qe(c,d,n,v,e,f,a),u!==null&&(r===0?t?fe(t):t=oe(()=>u(n)):t!==null&&ge(t,()=>{t=null})),p&&V(!0),I(l)}),N&&(n=D)}function qe(s,e,a,f,v,u,n){var j,B,X,J;var d=(v&Ne)!==0,x=(v&(Q|P))!==0,m=s.length,t=e.items,A=e.first,l=A,c,r=null,p,_=[],g=[],E,h,i,o;if(d)for(o=0;o<m;o+=1)E=s[o],h=u(E,o),i=t.get(h),i!==void 0&&((j=i.a)==null||j.measure(),(p??(p=new Set)).add(i));for(o=0;o<m;o+=1){if(E=s[o],h=u(E,o),i=t.get(h),i===void 0){var R=l?l.e.nodes_start:a;r=ce(R,e,r,r===null?e.first:r.next,E,h,o,f,v,n),t.set(h,r),_=[],g=[],l=r.next;continue}if(x&&Be(i,E,o,v),(i.e.f&Y)!==0&&(fe(i.e),d&&((B=i.a)==null||B.unfix(),(p??(p=new Set)).delete(i))),i!==l){if(c!==void 0&&c.has(i)){if(_.length<g.length){var S=g[0],y;r=S.prev;var O=_[0],C=_[_.length-1];for(y=0;y<_.length;y+=1)le(_[y],S,a);for(y=0;y<g.length;y+=1)c.delete(g[y]);w(e,O.prev,C.next),w(e,r,O),w(e,C,S),l=S,r=C,o-=1,_=[],g=[]}else c.delete(i),le(i,l,a),w(e,i.prev,i.next),w(e,i,r===null?e.first:r.next),w(e,r,i),r=i;continue}for(_=[],g=[];l!==null&&l.k!==h;)(l.e.f&Y)===0&&(c??(c=new Set)).add(l),g.push(l),l=l.next;if(l===null)continue;i=l}_.push(i),r=i,l=i.next}if(l!==null||c!==void 0){for(var T=c===void 0?[]:ve(c);l!==null;)(l.e.f&Y)===0&&T.push(l),l=l.next;var k=T.length;if(k>0){var q=(v&ue)!==0&&m===0?a:null;if(d){for(o=0;o<k;o+=1)(X=T[o].a)==null||X.measure();for(o=0;o<k;o+=1)(J=T[o].a)==null||J.fix()}Oe(e,T,q,t)}}d&&Me(()=>{var W;if(p!==void 0)for(i of p)(W=i.a)==null||W.apply()}),ee.first=e.first&&e.first.e,ee.last=r&&r.e}function Be(s,e,a,f){(f&Q)!==0&&ae(s.v,e),(f&P)!==0?ae(s.i,a):s.i=a}function ce(s,e,a,f,v,u,n,d,x,m){var t=(x&Q)!==0,A=(x&be)===0,l=t?A?xe(v):$(v):v,c=(x&P)===0?n:$(n),r={i:c,v:l,k:u,a:null,e:null,prev:a,next:f};try{return r.e=oe(()=>d(s,l,c,m),N),r.e.prev=a&&a.e,r.e.next=f&&f.e,a===null?e.first=r:(a.next=r,a.e.next=r.e),f!==null&&(f.prev=r,f.e.prev=r.e),r}finally{}}function le(s,e,a){for(var f=s.next?s.next.e.nodes_start:a,v=e?e.e.nodes_start:a,u=s.e.nodes_start;u!==f;){var n=we(u);v.before(u),u=n}}function w(s,e,a){e===null?s.first=a:(e.next=a,e.e.next=a&&a.e),a!==null&&(a.prev=e,a.e.prev=e&&e.e)}function Ge(s,e="/Media/Stills/"){return Array.isArray(s)?s.map(a=>{const f=a.split("-"),v=a.split(".").pop(),u=f[0]||"untitled";let n=f.slice(1).join(" ").replace(`.${v}`,"");return(!n||n==="")&&(n=a.replace(`.${v}`,"")),{filename:a,src:`${e}${a}`,alt:n,title:n.charAt(0).toUpperCase()+n.slice(1),project:u,type:v}}):(console.error("Expected imageList to be an array, got:",typeof s),[])}function Ue(s){return s.reduce((e,a)=>{const{project:f}=a;return e[f]||(e[f]=[]),e[f].push(a),e},{})}var Ve=L('<div class="loading">Loading images...</div>'),Ye=L('<div class="error"> </div>'),ze=L('<div class="image-card"><img class="styled-still" loading="lazy"> <div class="image-overlay"><h3 class="image-title"> </h3></div></div>'),Fe=L('<div class="project-section"><h2 class="project-title"> </h2> <div class="image-grid"></div></div>'),Ke=L('<div class="stills-container"><!></div>');function ra(s,e){Se(e,!1);let a=[],f=z({}),v=z(!0),u=z(null);Le(async()=>{try{const t=await fetch("/imageList.json");if(!t.ok)throw new Error(`Failed to fetch image list: ${t.status}`);const A=await t.json();a=Ge(A),G(f,Ue(a)),G(v,!1)}catch(t){console.error("Error loading images:",t),G(u,t.message),G(v,!1)}}),De();var n=Ke(),d=M(n);{var x=t=>{var A=Ve();H(t,A)},m=(t,A)=>{{var l=r=>{var p=Ye(),_=M(p);b(p),F(()=>K(_,`Error: ${I(u)??""}`)),H(r,p)},c=r=>{var p=je(),_=Re(p);ne(_,1,()=>Object.entries(I(f)),se,(g,E)=>{let h=()=>I(E)[0],i=()=>I(E)[1];var o=Fe(),R=M(o),S=M(R,!0);b(R);var y=re(R,2);ne(y,5,i,se,(O,C)=>{var T=ze(),k=M(T),q=re(k,2),j=M(q),B=M(j,!0);b(j),b(q),b(T),F(()=>{ie(k,"src",I(C).src),ie(k,"alt",I(C).alt),K(B,I(C).title)}),H(O,T)}),b(y),b(o),F(()=>K(S,h())),H(g,o)}),H(r,p)};te(t,r=>{I(u)?r(l):r(c,!1)},A)}};te(d,t=>{I(v)?t(x):t(m,!1)})}b(n),H(s,n),He()}export{ra as component};
